{% extends "base.html" %}

{% block content %}
<div class="relative max-w-4xl mx-auto mt-12 p-6 md:p-8 bg-white rounded-lg shadow-lg text-center overflow-hidden">

    <!-- Canvas de partículas de fondo -->
    <canvas id="particle-canvas" class="absolute inset-0 w-full h-full z-0"></canvas>

    <!-- Contenido principal sobre el canvas -->
    <div class="relative z-10">

        <!-- Título animado -->
        <h1 class="text-3xl md:text-5xl font-bold text-blue-600 mb-4 animate-fade-in-down">
            Bienvenido al Sistema de Afiliados
        </h1>

        <!-- Descripción con fade -->
        <p class="text-gray-700 mb-6 text-sm md:text-base animate-fade-in delay-300">
            Aquí podrás registrar y consultar los afiliados a nuestro partido político.
            Mantén tus datos actualizados y seguros.
        </p>

        <!-- Botones con animación de entrada -->
        <div class="flex flex-col md:flex-row justify-center gap-4 mt-6 animate-fade-in delay-500">
            <a href="{{ url_for('registrar') }}" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-medium transform hover:scale-105">
                Registrar Afiliado
            </a>
            <a href="{{ url_for('listar_afiliados') }}" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-medium transform hover:scale-105">
                Ver Afiliados
            </a>
        </div>

        

        <!-- Imagen con animación de rebote -->
        <div class="mt-8 animate-bounce">
            <img src="https://cdn-icons-png.flaticon.com/512/2920/2920764.png" 
                 alt="Afiliados" 
                 class="mx-auto w-32 md:w-48 lg:w-64">
        </div>
    </div>
</div>

<!-- Animaciones Tailwind personalizadas -->
<style>
@keyframes fade-in-down {
  0% { opacity: 0; transform: translateY(-30px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-down { animation: fade-in-down 1s ease-out forwards; }

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}
.animate-fade-in { animation: fade-in 1s ease-out forwards; }
.animate-fade-in.delay-300 { animation-delay: 0.3s; }
.animate-fade-in.delay-500 { animation-delay: 0.5s; }

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-15px); }
}
.animate-bounce { animation: bounce 2s infinite; }
</style>

<!-- Script de partículas de fondo -->
<script>
const canvas = document.getElementById('particle-canvas');
const ctx = canvas.getContext('2d');
canvas.width = canvas.offsetWidth;
canvas.height = canvas.offsetHeight;

let particles = [];

function random(min, max) {
    return Math.random() * (max - min) + min;
}

function createParticles(count) {
    particles = [];
    for (let i = 0; i < count; i++) {
        particles.push({
            x: random(0, canvas.width),
            y: random(0, canvas.height),
            radius: random(1, 3),
            speedX: random(-0.3, 0.3),
            speedY: random(-0.3, 0.3),
            color: 'rgba(59, 130, 246, 0.4)' // azul Tailwind con opacidad
        });
    }
}

function drawParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let p of particles) {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();

        // Mover partículas
        p.x += p.speedX;
        p.y += p.speedY;

        // Rebotar en los bordes
        if (p.x < 0 || p.x > canvas.width) p.speedX *= -1;
        if (p.y < 0 || p.y > canvas.height) p.speedY *= -1;
    }
    requestAnimationFrame(drawParticles);
}

// Inicializar partículas
createParticles(60);
drawParticles();

// Ajustar canvas al redimensionar ventana
window.addEventListener('resize', () => {
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;
    createParticles(60);
});
</script>

{% endblock %}
